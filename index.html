<!doctype html>
<link rel="stylesheet" type="text/css" href="parcoords.css">
<script src="d3.v2.js"></script>
<script src="underscore.js"></script>
<script src="parcoords.js"></script>

<style>
  body {
    background: #f4f4f4;
    margin: 0;
  }
  #example1,
  #example2 {
    height: 300px;
    background: #ddd;
    margin: 12px;
  }
</style>
<div id="example1" class="parcoords"></div>
<div id="example2" class="parcoords"></div>
<script>
// example 1
var pc1 = parcoords("example1");
pc1.ctx.foreground.fillText("Loading...",100,100);

var columns,
    dimensions;

d3.csv('data/movies.csv', function(data) {
  window.data = data;

  columns = _.keys(data[0]);

  // get quantitative dimensions
  dimensions = _(columns)
    .filter(function(col) {
      return !_.isNaN(data[0][col] - 0);
    });

  pc1.dimensions( dimensions )
    .data( data )
    .autoscale()
    .brushable()
    .render();
});

// example 2
var pc2 = parcoords("example2");

var data2 = d3.range(80).map(function(i) {
  var x = 2*Math.PI*i/80
  return {
    x: x,
    sin: Math.sin(x),
    cos: Math.cos(x),
    atan: Math.atan(x),
    exp: Math.exp(x),
    sqrt: Math.sqrt(x),
    square: x*x,
    round: Math.round(x),
    rounded_square: Math.round(x*x)
  };
});

var dimensions2 = d3.keys(data2[0]);

pc2.ctx.foreground.strokeStyle = "rgba(0,80,0,0.26)";

pc2.dimensions( dimensions2 )
  .data( data2 )
  .autoscale()
  .brushable()
  .render();
</script>
